<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Linwen's LuckyFour Bakery Website">

    <link rel="stylesheet" href="./css/style.css">

    <script src="./jquery-3.6.0.js"></script>
    <script src="./angular.js"></script>
    <script src="./ng-route.js"></script>
    

    <title>LuckyFour Bakery</title>
 


</head>
<body>
    <header class="pageheader">
        <div class="level-video" onclick="showmenu();" id="gohome" class="gomenu">
            <video autoplay loop muted class="v-header">
              <source src="./img/Logo.mp4" type="video/mp4">
            </video>
            <a href="./index.html" >
                Home
            </a>  
        </div>

            <div id = "loginpage">
            <img id = "loginpageicon" src="./img/user.png" width="100%" height="100%">
            <a href="./login.html" >
                Log in
            </a>    
            </div>

            <div id = "cartpage">
            <video id = "cartpageicon" autoplay loop muted class="v-header">
                <source src="./img/addcart.mp4" type="video/mp4">
            </video>
            <a href="./cart.html">
                Shopping Cart
            </a>
            </div>

    </header> 
    <div id="login">
        
<h1>Log in</h1>
<div id="inputuser">
<input type="text" placeholder="name"><br>
<input type="password" placeholder="password"><br>
</div>
<div id="checkuser">
<input type="checkbox">Remember me<br>
<button type="button">Log in</button>
</div>
</div>

</body>
<script>

let setCookie = (CookieName, CookieValue, Exp)=>{
        const currentTime = new Date();
        currentTime.setTime(currentTime.getTime()+(Exp*24*60*60*1000));
        let Cookie_Exp = "expires="+currentTime.toUTCString();
        document.cookie = " " + CookieName + "="+ CookieValue  + ";"+Cookie_Exp;
    };
    let getCookie = (CookieName) =>{
        let cookieKey = CookieName+"=";
        let cookies = decodeURIComponent(document.cookie);
        let cookieArray = cookies.split(";");
        for(let cookie of cookieArray){
            while(cookie.charAt(0) == " "){
                cookie = cookie.substring(1);
            }
            if(cookie.indexOf(cookieKey)==0){
                return cookie.substring(cookieKey.length);
            } 
        }
        return "";
    }
    // setCookie("color", "red$&");

    let usernameChecker = () =>{
        let username = getCookie("username");
        if(username!=""){
            usernameInput.value = username;
        }
    }
    let usernameInput = document.getElementsByTagName("input")[0];
    let checkbox = document.getElementsByTagName("input")[2];
    let btnLogin = document.getElementsByTagName("button")[0];
    usernameChecker();
    btnLogin.addEventListener("click",()=>{
        if(checkbox.checked){
            setCookie("username",usernameInput.value,4);
        }
        location.href="./index.html";

    })
</script>
</html>
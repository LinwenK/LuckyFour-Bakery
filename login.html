<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Linwen's LuckyFour Bakery Website">

    <link rel="stylesheet" href="./css/style.css">

    <script src="./jquery-3.6.0.js"></script>
    <script src="./angular.js"></script>
    <script src="./ng-route.js"></script>
    

    <title>LuckyFour Bakery</title>



</head>
<body>
    <div id="login">
    <header> 
        <nav>
        <!-- <a href="#/!home">Home</a> -->
            <a href="./index.html">Home</a>
            <a href="./login.html">Log in</a>

            <a href="./cart.html">Shopping Cart</a>
            <a href="./order.html">order</a>
        </nav>
    </header> 
<h1>Log in page</h1>
<input type="text" placeholder="name"><br>
<input type="password" placeholder="password"><br>
<input type="checkbox">Remember me<br>
<button type="button">Login</button>
</div>
</body>
<script>

let setCookie = (CookieName, CookieValue, Exp)=>{
        const currentTime = new Date();
        currentTime.setTime(currentTime.getTime()+(Exp*24*60*60*1000));
        let Cookie_Exp = "expires="+currentTime.toUTCString();
        document.cookie = " " + CookieName + "="+ CookieValue  + ";"+Cookie_Exp;
    };
    let getCookie = (CookieName) =>{
        let cookieKey = CookieName+"=";
        let cookies = decodeURIComponent(document.cookie);
        let cookieArray = cookies.split(";");
        for(let cookie of cookieArray){
            while(cookie.charAt(0) == " "){
                cookie = cookie.substring(1);
            }
            if(cookie.indexOf(cookieKey)==0){
                return cookie.substring(cookieKey.length);
            } 
        }
        return "";
    }
    // setCookie("color", "red$&");

    let usernameChecker = () =>{
        let username = getCookie("username");
        if(username!=""){
            usernameInput.value = username;
        }
    }
    let usernameInput = document.getElementsByTagName("input")[0];
    let checkbox = document.getElementsByTagName("input")[2];
    let btnLogin = document.getElementsByTagName("button")[0];
    usernameChecker();
    btnLogin.addEventListener("click",()=>{
        if(checkbox.checked){
            setCookie("username",usernameInput.value,4);
        }
    })
</script>
</html>